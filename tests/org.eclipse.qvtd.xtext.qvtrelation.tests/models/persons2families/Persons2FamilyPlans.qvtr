import FamiliesMM : 'Families.ecore#/';
import FamilyPlansMM : 'FamilyPlans.ecore#/';
import PersonsMM : 'Persons.ecore#/';

package org::eclipse::qvtd::xtext::qvtrelation::tests::persons2families
{
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------
--	This is a side model-to-model transformation to plan the Persons to Families transformation
------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------					

transformation Persons2FamilyPlans(person:PersonsMM, familyIn:FamiliesMM, plan:FamilyPlansMM, familyOut:FamiliesMM) { 

	attribute PREFER_EXISTING_FAMILY_TO_NEW : Boolean[1] = 'true';
	attribute PREFER_CREATING_PARENT_TO_CHILD : Boolean[1] = 'true';
	
	top relation R_PersonRegister2FamilyPlanning
	{		
	  	domain person pr : PersonRegister;
	  	domain familyIn fr : FamilyRegister;	    
		enforce domain plan fp : FamilyPlanning;
	}
	
	top relation Q0_FamilyPlanning2FamilyRegister
	{		
	  	domain plan fp : FamilyPlanning;
	  	enforce domain familyOut fr : FamilyRegister;
	}
}	
}