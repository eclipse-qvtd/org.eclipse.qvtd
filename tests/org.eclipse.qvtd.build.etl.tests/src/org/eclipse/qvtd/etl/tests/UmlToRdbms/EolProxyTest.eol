var vars = QVT!Mapping.all().selectOne(m | m.name == "classAttributes").guardPattern.variable;
var duplicates : Bag();
var x = new Native("org.eclipse.qvtd.build.etl.PivotUtil");

vars.println("Vars ");

for (v in vars) {
    if (vars.excludingAll(duplicates.flatten()).exists(v2 | v2.name == v.name)) {
        duplicates.add(vars.select(v2 | v2.name == v.name).flatten());
    }
}
duplicates.println("duplicates ");
for (v in duplicates) {
    // TODO in the general case we could have multiple vars, not just pairs 
   
    x.getLowestRankVariable(v).println();
}
