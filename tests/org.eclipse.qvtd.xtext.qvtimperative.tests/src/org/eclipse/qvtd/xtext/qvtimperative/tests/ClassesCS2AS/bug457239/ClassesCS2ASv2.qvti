import classes : '../Classes.ecore';
import classescs : '../ClassesCS.ecore';
import 'helpers.ocl';

transformation classescs2as
{
	check leftCS imports classescs;
	enforce rightAS imports classes;
}

map createPackage in classescs2as
{
	in:leftCS packageCS : PackageCS;
	new:rightAS _package : Package;
	set _package.name := if packageCS.aBooleanElementOp()
						--if not packageCS.name.oclIsUndefined()
						then 'transformation worked'
						else 'unexpected'
						endif;
}

map __root__ in classescs2as
{
	for packageCS : classescs::PackageCS in classescs::PackageCS.allInstances() {
		call createPackage {
			packageCS := packageCS;
		}
	}
}